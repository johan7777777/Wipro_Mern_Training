<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todo Dashboard</title>
</head>
<body>

<h3> Users Todo Tasks</h3>

<ul id="todos"></ul>

<script>

  function fetchingTodos()
  {
    return new Promise((resolve, reject) =>
    {

      fetch('https://jsonplaceholder.typicode.com/todos')

      .then(response =>
      {
        if(!response.ok)
        {
          reject("Failed to fetch todo data");
        }

        return response.json();
      })

      .then(data => resolve(data))

      .catch(err => reject(err));

    });
  }


  fetchingTodos()

  .then(todos => {

      const ul = document.getElementById("todos");

      const firstFive = todos.slice(0,5);

      firstFive.forEach(todo => {

        const li = document.createElement("li");

        const email = "user" + todo.userId + "@company.com";

        // convert true/false to YES/NO
        const status = todo.completed ? "YES" : "NO";

        li.textContent =
        `User ID : ${todo.userId} | Email : ${email} | Completed : ${status}`;

        ul.append(li);

      });

  })

  .catch(err => console.error("Error :", err));

</script>

</body>
</html>
